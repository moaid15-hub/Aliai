  // ูุธููุฉ ูุญุณููุฉ ููุฏุฑุฏุดุฉ ูุน Claude AI
  const handleSendWithAPI = async (userMessage: string): Promise<string> => {
    try {
      const response = await fetch('/api/chat', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          messages: [
            {
              role: 'user',
              content: userMessage
            }
          ]
        })
      });

      if (!response.ok) {
        throw new Error(`HTTP error! status: ${response.status}`);
      }

      const data = await response.json();
      
      if (data.success) {
        return data.message;
      } else {
        throw new Error(data.error || 'ุฎุทุฃ ูู ุงูุงุณุชุฌุงุจุฉ');
      }
    } catch (error) {
      console.error('ุฎุทุฃ ูู API:', error);
      // ุงูุนูุฏุฉ ูููุธุงู ุงููุญูู ูู ุญุงูุฉ ุงูุฎุทุฃ
      return getLocalAIResponse(userMessage);
    }
  };

  // ุงููุธุงู ุงููุญูู ุงูุจุฏูู
  const getLocalAIResponse = (userMessage: string): string => {
    const responses: { [key: string]: string } = {
      'ูุฑุญุจุง': 'ูุฑุญุจุงู ุจู! ุฃูุง ุนูููุ ูุณุงุนุฏู ุงูุฐูู. ููู ูููููู ูุณุงุนุฏุชู ุงููููุ',
      'ุงูุณูุงู ุนูููู': 'ูุนูููู ุงูุณูุงู ูุฑุญูุฉ ุงููู ูุจุฑูุงุชู! ุฃููุงู ูุณููุงู ุจู.',
      'ูุง ุงุณูู': 'ุงุณูู ุนูููุ ูุฃูุง ูุณุงุนุฏ ุฐูู ูุทูุฑ ุฎุตูุตุงู ูููุณุชุฎุฏููู ุงูุนุฑุจ.',
      'ููู ุญุงูู': 'ุฃูุง ุจุฃูุถู ุญุงูุ ุดูุฑุงู ูู! ุฌุงูุฒ ููุณุงุนุฏุชู ูู ุฃู ููุถูุน.',
      'ุณุงุนุฏูู': 'ุจุงูุทุจุน! ุฃุฎุจุฑูู ุจุงูุถุจุท ูุงุฐุง ุชุญุชุงุฌ ูุณุฃูุฏู ูู ุฃูุถู ุงููุณุงุนุฏุฉ ุงูููููุฉ.',
      'ุงูุจุฑูุฌุฉ': 'ุงูุจุฑูุฌุฉ ุนุงูู ุฑุงุฆุน! ๐ป ูููููู ูุณุงุนุฏุชู ูู ุชุนูู ูุบุงุช ุงูุจุฑูุฌุฉ ุงููุฎุชููุฉ.',
    };

    const userLower = userMessage.toLowerCase().trim();
    
    for (const [keyword, response] of Object.entries(responses)) {
      if (userLower.includes(keyword)) {
        return response;
      }
    }

    return `ุดูุฑุงู ูู ุนูู ุณุคุงูู: "${userMessage}". ุฃูุง ููุง ููุณุงุนุฏุชู! ููููู ุณุคุงูู ุนู ุงูุจุฑูุฌุฉุ ุงูุชุทููุฑุ ุฃู ุฃู ููุถูุน ุชููู ุขุฎุฑ.`;
  };