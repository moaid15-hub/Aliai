# 📸 مشروع الشخصيات مع معالجة الصور

مشروع متكامل لإدارة الشخصيات (Personas) مع نظام معالجة صور متقدم.

## 🎯 المميزات

### 1. نظام الشخصيات (Personas)
- اختيار وتبديل بين شخصيات مختلفة (معلم، مبرمج، كاتب، مترجم، إلخ)
- واجهة مستخدم تفاعلية مع مكونات متعددة
- إدارة المفضلة والتاريخ
- توصيات ذكية للشخصيات

### 2. معالجة الصور (Image Processing)
نظام معالجة صور متقدم يدعم ثلاث طرق:

#### أ) AI Vision (Claude/GPT-4) 🧠
- **يشوف الصورة كاملة**
- **يفهم الرسومات والمخططات**
- **يقرأ الخط حتى لو مو واضح**
- **الأفضل للرياضيات والرسومات**

**متى تستخدمه:**
- الصورة تحتوي معادلات رياضية
- الصورة رسم تخطيطي أو مخطط
- الخط غير واضح
- تحتاج فهم سياق الصورة

#### ب) OCR (استخراج النص فقط) ⚡
- **يحول الصورة لنص**
- **أسرع**
- **أرخص**
- **يشتغل بس للنصوص الواضحة**

**متى تستخدمه:**
- الصورة نص واضح فقط
- تحتاج سرعة عالية
- تحتاج تكلفة أقل
- الكمية كبيرة

#### ج) Hybrid (الاثنين معاً) 🎯
- **OCR أول شي (لو نجح)**
- **لو فشل → نستخدم AI Vision**
- **الأذكى لكن أعقد**
- **موصى به (الخيار الافتراضي)**

**متى تستخدمه:**
- غير متأكد من نوع الصورة
- تحتاج أفضل نتيجة ممكنة
- مزيج من صور مختلفة

## 📁 الهيكل

```
src/
├── app/
│   ├── personas/              # صفحات الشخصيات
│   └── image-processing/      # صفحة معالجة الصور
│
├── components/
│   ├── personas/              # مكونات الشخصيات
│   └── image-processing/      # مكونات معالجة الصور
│       ├── ImageUploader.tsx
│       └── ProcessingMethodSelector.tsx
│
├── services/
│   ├── persona/               # خدمات الشخصيات
│   └── image-processing/      # خدمات معالجة الصور
│       ├── image-processor.ts
│       ├── ocr-service.ts
│       └── ai-vision-service.ts
│
├── types/
│   ├── persona.types.ts
│   └── image-processing.types.ts
│
├── contexts/
│   └── PersonaContext.tsx
│
└── config/
    └── persona-config.ts
```

## 🚀 البدء

### المتطلبات
```bash
Node.js 18+
npm أو yarn أو pnpm
```

### التثبيت
```bash
npm install
```

### التشغيل
```bash
npm run dev
```

### الوصول للصفحات
- الصفحة الرئيسية: `http://localhost:3000`
- صفحة الشخصيات: `http://localhost:3000/personas`
- صفحة معالجة الصور: `http://localhost:3000/image-processing`

## 📊 مقارنة تقنيات معالجة الصور

| المعيار | AI Vision | OCR | Hybrid |
|---------|-----------|-----|--------|
| السرعة | 🟡 متوسط | 🟢 سريع | 🟡 متوسط |
| التكلفة | 🔴 عالي | 🟢 رخيص | 🟡 متوسط |
| الدقة | 🟢 عالي جداً | 🟡 جيد | 🟢 عالي |
| الرسومات | 🟢 ممتاز | 🔴 لا يدعم | 🟢 ممتاز |
| النصوص الواضحة | 🟢 ممتاز | 🟢 ممتاز | 🟢 ممتاز |
| النصوص غير الواضحة | 🟢 ممتاز | 🔴 ضعيف | 🟢 ممتاز |

## 🔧 التخصيص

### إضافة Persona جديد
```typescript
// src/components/personas/data/personasData.ts
export const personas = [
  {
    id: 'new-persona',
    name: 'اسم الشخصية',
    description: 'وصف الشخصية',
    icon: '🎭',
    // ...
  },
];
```

### تخصيص معالج الصور
```typescript
const processor = new ImageProcessor({
  method: ImageProcessingMethod.HYBRID,
  fallbackToVision: true,
  maxImageSize: 10 * 1024 * 1024, // 10MB
  supportedFormats: ['jpg', 'jpeg', 'png', 'webp'],
});
```

## 📝 TODO

- [ ] دمج مع Tesseract.js للـ OCR
- [ ] دمج مع Claude API للـ Vision
- [ ] إضافة دعم للغات إضافية
- [ ] تحسين واجهة المستخدم
- [ ] إضافة تحليلات وإحصائيات
- [ ] دعم معالجة الصور بالدفعات (Batch)

## 🤝 المساهمة

نرحب بالمساهمات! يرجى فتح Issue أو Pull Request.

## 📄 الترخيص

MIT License

---

صُنع بـ ❤️ للمجتمع العربي

